$((function() {
    $(document).on("click", (function(e) {
        $(e.target).closest("header.header .top-nav .left-nav .ham-menu-click, .menu-back-link, .sidebar-wrapper, .filter-btn, .filter-actions-dialog,.add-more-bank, .white-layer-pop, .pop-video-wrap, .create-videos-evt, .create-quizze-evt, .pop-quizzes-wrap, .unassigned-classroom-evt, .unassigned-classroom-wrap, .unassigned-classroom-evt, .assignment-added-evt, .assignment-added").length || $(window).width() > 768 || ($(".sidebar-wrapper").removeClass("show"), $(".white-layer-pop").removeClass("show"), $(".unassigned-classroom-wrap").removeClass("show"), $(".assignment-added").removeClass("show"), $(".body-overlay").removeClass("active"), $(".body-overlay").removeClass("show-active"), $('.sidebar-wrapper .before-radius, .sidebar-wrapper .after-radius').removeClass('add'), $("body").removeClass("body-overflow"), $("#view-wrapper, .footer-nav-wrap, .common-plus-wrap").removeClass('view-width'))
    })), $(".page-load-animation").animate({
        right: "0"
    }), $(".page-load-animation").fadeIn(1000), $(".nav-notify-click").on("click", (function() {
        $(".page-load-animation").slideUp(), $(".notification__pop").slideDown()
    })), $(".close-notify").on("click", (function() {
        $(".page-load-animation").slideDown(), $(".notification__pop").slideUp()
    })), 
    $(".main-plus-action").on("click", (function() {
        if($(".main-plus-action").hasClass('noaction')){
         $(".createOptions").removeClass('d-none').addClass('active'),      
        $(".main-plus-wrap").slideDown()
        }
    })), 
    $(".main-plus-close").on("click", (function() {
        $(".page-load-animation").slideDown(),
         $(".createOptions").removeClass('active').addClass('d-none'),
        $(".main-plus-wrap").slideUp()
    })),

    $(".block-content-wrap .back-btn").on("click", (function() {
        $(this).parents(".block-content-wrap").removeClass("show"), $(".body-overlay").removeClass("active"), $(".body-overlay").removeClass("show-active"), $(".pop-video-wrap .pos-fixed-overlay").attr("hidden", "hidden"), $(".pop-quizzes-wrap .pos-fixed-overlay").attr("hidden", "hidden"), $(".unassigned-classroom-wrap").removeClass("show"), $(".assignment-added").removeClass("show")
    })), $(document).on("click", (function(e) {
        $(e.target).closest("header.header .top-nav .left-nav .ham-menu-click, header.header .open-panel .ham-menu-click, .menu-back-link, .sidebar-wrapper, .filter-btn, .filter-actions-dialog,.add-more-bank, .white-layer-pop, .payment-option-btn, .payment-option-dialog").length || $(window).width() > 768 || ($(".sidebar-wrapper").removeClass("show"), $(".white-layer-pop").removeClass("show"), $(".body-overlay").removeClass("active"), $("body").removeClass("body-overflow"), $('.sidebar-wrapper .before-radius, .sidebar-wrapper .after-radius').removeClass('add'), $("#view-wrapper, .footer-nav-wrap, .common-plus-wrap").removeClass('view-width'))
    })), $("header.header .top-nav .left-nav .ham-menu-click, header.header .open-panel .ham-menu-click").on("click", (function() {
        $(".sidebar-wrapper").addClass("show"), $(".body-overlay").addClass("active"), $("body").addClass("body-overflow"), $('.sidebar-wrapper .before-radius, .sidebar-wrapper .after-radius').addClass('add'), $("#view-wrapper, .footer-nav-wrap, .common-plus-wrap").addClass('view-width')
    })), $(".menu-back-link").on("click", (function() {
        $(".sidebar-wrapper").removeClass("show"), $(".body-overlay").removeClass("active"), $("body").removeClass("body-overflow"), $('.sidebar-wrapper .before-radius, .sidebar-wrapper .after-radius').removeClass('add'), $("#view-wrapper, .footer-nav-wrap, .common-plus-wrap").removeClass('view-width')
    })), $(".header-search .nav-search-click").on("click", (function() {
        $(this).next().addClass("expand-search"), $(this).next().addClass('search-width')
    })), $(".digit-group").find("input").each((function() {
         $(this).attr("maxlength", 1), $(this).on("click", (function(e) {
             $(this).select();
        })); 
        $(this).attr("maxlength", 1), $(this).on("keyup input", (function(e) {
            var t = $($(this).parent());
            if (8 === e.keyCode || 37 === e.keyCode) {
                var a = t.find("input#" + $(this).data("previous"));
                a.length && $(a).select()
            } else if (e.keyCode >= 48 && e.keyCode <= 57 || e.keyCode >= 65 && e.keyCode <= 90 || e.keyCode >= 96 && e.keyCode <= 105 || 39 === e.keyCode || 229 === e.keyCode) {
                var i = t.find("input#" + $(this).data("next"));
               //  i.length ? $(i).select() : return false;
                if(i.length){
                    $(i).select()
                } else {
                    $(this).select();
                }
            }
        }))
    })), "none" === $(".pro-preferences-wrap .sub--close").css("display") ? $(".pro-preferences-wrap .selected__sublist ul li .sub--info").addClass("width-transit") : $(".pro-preferences-wrap .selected__sublist ul li .sub--info").removeClass("width-transit"), $(".pro-preferences-wrap .add-edit-btn").on("click", (function() {
        $(this).parents(".selected__sublist").prev().removeAttr("hidden"), $(this).text("Add or Edit" == $(this).text() ? "Save" : "Add or Edit"), "none" === $(".pro-preferences-wrap .sub--close").css("display") ? ($(".pro-preferences-wrap .selected__sublist ul li .sub--info").removeClass("width-transit"), $(".pro-preferences-wrap .sub--close").css("display", "block")) : ($(".pro-preferences-wrap .selected__sublist ul li .sub--info").addClass("width-transit"), $(".pro-preferences-wrap .sub--close").css("display", "none"))
    })), $(".commontabs__nav >li").on("click", (function() {
        $(".commontabs__nav >li").removeClass("selected"), $(this).addClass("selected"), $(this).parents(".commontabs__nav").scrollCenter(".selected", 300)
    })), $(".form-group input").each((function() {
        0 === $(this).val().length ? $(this).next().removeClass("active") : $(this).next().addClass("active")
    })), $(".edit-pro-detail").on("click", (function() {
        // $(this).parents(".from-wrap").find(".form-group").toggleClass("disabled"), $(this).text("Edit Detail" == $(this).text() ? "Save" : "Edit Detail"), $(this).parents(".from-wrap").find('.form-group input[name="inputName4"]').focus(), $(this).parents(".from-wrap").find('.form-group input[name="inputName4"]').select()
    })), $(".add-more-bank").on("click", (function() {
        $(".body-overlay").addClass("active"), $(".white-layer-pop").addClass("show")
    })), $(".updated-dates .edit-date-evt").on("click", (function() {
        $(this).parents(".updated-dates").attr("hidden", "hidden"), $(this).parents(".updated-dates").next().removeAttr("hidden", "hidden"), $(".double-btn-wrap").removeAttr("hidden", "hidden"), $(".single-btn-wrap").attr("hidden", "hidden")
    })), $(" .double-btn-wrap .btn-primary").on("click", (function() {
        $(".date-stamp-wrap .updated-dates").removeAttr("hidden", "hidden"), $(".date-stamp-wrap .updated-dates").next().attr("hidden", "hidden"), $(".double-btn-wrap").attr("hidden", "hidden"), $(".single-btn-wrap").removeAttr("hidden", "hidden"), $(".success-tost-wrap").removeAttr("hidden", "hidden")
    })), $(".unassigned-classroom-evt").on("click", (function() {
        $(".unassigned-classroom-wrap").addClass("show"), $(".body-overlay").addClass("show-active")
    })), $(".assignment-added-evt").on("click", (function() {
        $(".unassigned-classroom-wrap").removeClass("show"), $(".assignment-added").addClass("show"), $(".body-overlay").addClass("show-active")
    })), $(".save-btn-wrap a").on("click", (function() {
        $(this).parents(".create-quiz-wrap").attr("hidden", "hidden"), $(this).parents(".create-quiz-wrap").next(".created-quiz-wrap").removeAttr("hidden", "hidden")
    })), $(".saved-btn-wrap a").on("click", (function() {
        $(this).parents(".saved-btn-wrap").attr("hidden", "hidden"), $(this).parents(".saved-btn-wrap").next(".assign-now-btn").removeAttr("hidden", "hidden")
    }))
}));
let allclickev = document.querySelectorAll(".graph-detail-event"),
    screenheight = screen.height;
for (let e = 0; e < allclickev.length; e++) allclickev[e].addEventListener("click", (function() {
    document.querySelector(".graph-detail-page").classList.add("show"), document.querySelector(".body-overlay").classList.add("active"), document.querySelector("body").style.overflow = "hidden", setTimeout(() => {
        document.querySelector(".close-action-wrap").style.display = "flex"
    }, 300)
}));
$(".modal-popup-btn").click("click", (function(e) {
    e.stopPropagation();
    let t = "#" + $(this).attr("data-modal");
    $(".body-overlay").addClass("active"), $(t).addClass("active")
})), $(".body-overlay").on("click", (function() {
    $(".modal-popup").removeClass("active"), $(".body-overlay").removeClass("active")
})), $(".filter-btn").on("click", (function() {
    $(".filter-actions-dialog").fadeIn(), $(".body-overlay").addClass("active")
})); /*, $(".ui-drawer-head").on("click", (function() {
    $(".ui-drawer-head").toggleClass("inactive"), $(".ui-drawer-body").slideToggle()
}));*/
let barChart = $(".custom-bar-chart");
barChart.each((function() {
    dataElem = `<p class="data-percent">${$(this).attr("data-percent")}</p><div class="data-chart" style="height:${.78*$(this).attr("data-percent")}px;background:${$(this).attr("data-color")}"></div><p class="data-title">${$(this).attr("data-title")}</p>`, $(this).append(dataElem)
}));
let barChartGroup = $(".stack-chart");

function selectedoption() {
    $(window).width() < 349 ? $("option:selected").each((function() {
        var e = $(this).text();
        e.length > 5 && (e = e.substring(0, 5) + "...", $(this).text(e))
    })) : $(window).width() <= 360 ? $("option:selected").each((function() {
        var e = $(this).text();
        e.length > 7 && (e = e.substring(0, 7) + "...", $(this).text(e))
    })) : $("option:selected").each((function() {
        var e = $(this).text();
        e.length > 11 && (e = e.substring(0, 11) + "...", $(this).text(e))
    }))
}
barChartGroup.each((function() {
    let e = $(this).attr("data-stats"),
        t = $(this).attr("data-color"),
        a = $(this).attr("data-bg");
        ts = $(this).attr("data-ts");
    $(this).closest(".custom-bar-chart-group").css("background-color", a), e = e.split(","), t = t.split(",");
    let i = "";
    for (let a = 0; a < e.length; a++) {
        // s = e[a] / ts * 100 -- calculating per now we hide this as we show only one bar
        let s = e[a] / ts * 100,
            n = s.toFixed(0) <= 5 ? "top: -1px;" : "";
        i += `<div class="data-chart" style="height:${s.toFixed(0)}%;background:${t[a]}"><p class="data-percent" style="${n}">${e[a]}</p></div>`
    }
    $(this).prepend(i)
})), $(".form-group input").focus((function() { 
    el = $(this), el.trigger(":reset"), !el[0].hasAttribute("placeholder") && $("label[for='" + el.attr("name") + "']").addClass("active"), !el[0].hasAttribute("placeholder") && $("label[for='" + el.attr("name") + "']").parent().addClass("active")
})),  $(".form-group textarea").focus((function() {
    el = $(this), el.trigger(":reset"), !el[0].hasAttribute("placeholder") && $("label[for='" + el.attr("name") + "']").addClass("active"), !el[0].hasAttribute("placeholder") && $("label[for='" + el.attr("name") + "']").parent().addClass("active")
})),$(".form-group input").blur((function() { 
    el = $(this), "" == el.val() && !el[0].hasAttribute("placeholder") && $("label[for='" + el.attr("name") + "']").removeClass("active"), !el[0].hasAttribute("placeholder") && $("label[for='" + el.attr("name") + "']").parent().removeClass("active")
})), $(".form-group textarea").blur((function() {
    el = $(this), "" == el.val() && !el[0].hasAttribute("placeholder") && $("label[for='" + el.attr("name") + "']").removeClass("active"), !el[0].hasAttribute("placeholder") && $("label[for='" + el.attr("name") + "']").parent().removeClass("active")
})), $(".form-group .select-control").focus((function() {
    el = $(this), el.trigger(":reset"), !el[0].hasAttribute("placeholder") && $("label[for='" + el.attr("name") + "']").addClass("active"), !el[0].hasAttribute("placeholder") && $("label[for='" + el.attr("name") + "']").prev().addClass("active")
    if(el.attr("name") == "idCollegeBatch"){ $('#'+el.attr('name')+"_label").text('Classroom'); }
})), $("select#selectcourse").one("change", (function() {
    $("p.class-selection-info").attr("hidden", "hidden"), $("p.subject-selection-info").removeAttr("hidden", "hidden"), selectedoption()
})), $("select#selectsubject").one("change", (function() {
    $("p.class-selection-info").attr("hidden", "hidden"), $("p.subject-selection-info").attr("hidden", "hidden"), $("p.add-selection-info").removeAttr("hidden", "hidden"), selectedoption()
})), $("select#selectcourse").on("change", (function() {
    selectedoption()
})), $("select#selectsubject").on("change", (function() {
    selectedoption()
})), $(".add-pref-link").on("click", (function() {
    var e = $("select#selectcourse").find("option:selected").text(),
        t = $("select#selectsubject").find("option:selected").text();
    $("p.class-selection-info").attr("hidden", "hidden"), $("p.subject-selection-info").attr("hidden", "hidden"), $("p.add-selection-info").attr("hidden", "hidden"), $(".selected__sublist").removeAttr("hidden", "hidden");
    let a = '<li><div class="align-items-center"><div class="d-flex   sub w-100 px-1"><p class="sub--info"><span>' + e + "</span>|<span>" + t + '</span></p><div class="sub--close"><a href="javascript:void(0);" class="sub--close"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"><path fill="#262626" d="M1.41210061,7.24341505 C1.1824964,7.24341505 1,7.05508569 1,6.82560561 C1,6.59612554 1.1824964,6.41372781 1.41210061,6.41372781 L6.41035052,6.41372781 L6.41035052,1.41780944 C6.41072145,1.18832937 6.59915268,1 6.82875689,1 C7.0583611,1 7.2408575,1.18832937 7.2408575,1.41780944 L7.2408575,6.41372781 L12.2391074,6.41372781 C12.4687116,6.41372781 12.6571429,6.59612554 12.6571429,6.82560561 C12.6571429,7.05508569 12.4687116,7.24341505 12.2391074,7.24341505 L7.2408575,7.24341505 L7.2408575,12.2393334 C7.2408575,12.4688135 7.0583611,12.6571429 6.82875689,12.6571429 C6.59915268,12.6571429 6.41072145,12.4688135 6.41072145,12.2393334 L6.41072145,7.24341505 L1.41210061,7.24341505 Z" transform="rotate(45 6.829 6.829)"/></svg></a></div></div></div></li>';
    $(".selected__sublist ul").append(a), $(".sub--close").css("display", "inline-block")
})), $(document).on("click", ".selected__sublist ul li .sub--close a, .selected-list .sub--close", (function() {
    $(this).parents("li").remove()
})), $(window).height() <= 480 ? $(".white-layer-100").css("min-height", $(window).height() - 150 + "px") : $(".white-layer-100").css("min-height", $(window).height() - 250 + "px"), $inputEmail = $('input[name="inputEmail4"]'), $inputPassword = $('input[name="inputPassword4"]'), $inputAddress = $('input[name="inputAddress"]'), $inputCity = $('input[name="inputCity"]'), $selectState = $('select[name="inputState"]'), $inputZip = $('input[name="inputZip"]'), $formError = $(".form-error"), $inputEmail.blur((function() {
    return atpos = $inputEmail.val().indexOf("@"), dotpos = $inputEmail.val().lastIndexOf("."), null == $inputEmail.val() || "" == $inputEmail.val() ? $formError.html("Email can't be blank.") : atpos < 1 || dotpos - atpos < 2 ? $formError.html("Email is not valid.") : $formError.html(""), !1
})), $inputPassword.blur((function() {
    return null == $inputPassword.val() || "" == $inputPassword.val() ? $formError.html("Password can't be blank.") : $formError.html(""), !1
})), $inputAddress.blur((function() {
    return null == $inputAddress.val() || "" == $inputAddress.val() ? $formError.html("Address can't be blank.") : $formError.html(""), !1
})), $inputCity.blur((function() {
    return null == $inputCity.val() || "" == $inputCity.val() ? $formError.html("Address can't be blank.") : $formError.html(""), !1
})), $inputCity.blur((function() {
    return null == $inputCity.val() || "" == $inputCity.val() ? $formError.html("Address can't be blank.") : $formError.html(""), !1
})), $selectState.blur((function() {
    return null == $selectState.val() || "" == $selectState.val() ? $formError.html("Select state.") : $formError.html(""), !1
})), $inputZip.blur((function() {
    return null == $inputZip.val() || "" == $inputZip.val() ? $formError.html("Zip can't be blank.") : $formError.html(""), !1
}));
var readURL = function(e) {
    if (e.files && e.files[0]) {
        var t = new FileReader;
        t.onload = function(e) {
            $(".profile-pic").attr("src", e.target.result)
        }, t.readAsDataURL(e.files[0])
    }
};
$(".file-upload").on("change", (function() {
        readURL(this)
    })), $(".upload-button").on("click", (function() {
        $(".file-upload").click()
    })), jQuery.fn.scrollCenter = function(e, t) {
        var a = jQuery(this).find(e),
            i = a.width() / 2,
            s = a.position().left + i;
        return s = s + jQuery(this).scrollLeft() - jQuery(this).width() / 2, jQuery(this).animate({
            scrollLeft: s
        }, null == t ? 1e3 : t), this
    }, $(document).ready((function() {
        function e() {
            var e = $("#dp-slider .dp_item:first-child").data("class");
            $("#dp-slider .dp_item").removeClass("active"), $("#dp-slider .dp_item[data-class=" + e + "]").addClass("active")
        }
        $("#dp-next").click((function() {
            $(".dp_item").length;
            var t = $("#dp-slider .dp_item.active").attr("data-class-plus");
            if(t > $(".dp_item").length) {
                t = t % $(".dp_item").length;
            } 
            $(".dp-nav .nav-info .count .curr-num").text(Number(t)), $("#dp-slider .dp_item:first-child").hide().appendTo("#dp-slider").fadeIn(), $.each($(".dp_item"), (function(e, t) {
                $(t).attr("data-position", e + 1)
            })), e()
        })), $("#dp-prev").click((function() {
            $(".dp_item").length;
            var t = $("#dp-slider .dp_item.active").attr("data-class");
            if(t == 1) {
                var tempt = $(".dp_item").length;
            } else {
                var tempt = Number(t) - 1;
            }
            $(".dp-nav .nav-info .count .curr-num").text(tempt), $("#dp-slider .dp_item:last-child").hide().prependTo("#dp-slider").fadeIn(), $.each($(".dp_item"), (function(e, t) {
                $(t).attr("data-position", e + 1)
            })), e()
        })), $("body").on("click", "#dp-slider .dp_item:not(:first-child)", (function() {
            var t = $(this).attr("data-class");
            $(".dp-nav .nav-info .count .curr-num").text(t);
            $("#dp-slider .dp_item[data-class=" + t + "]").hide().prependTo("#dp-slider").fadeIn(), $.each($(".dp_item"), (function(e, t) {
                $(t).attr("data-position", e + 1)
            })), e()
        }))
    }))
    
    let totalq = $(".iq-test-wrap .circles .nav-item a").length;
$(".tab-navs .total-count .total").text(totalq), $(".tabs-btn-click").on("click", (function(e) {
    var t = $(this).attr("href");
    if (e.preventDefault(), $('[data-toggle="tab"][href="' + t + '"]').tab("show"), $(".iq-test-wrap .circles .nav-item a").hasClass("active")) {
        $(".iq-test-wrap .circles .nav-item a.active").parent().prev().find(".circle").addClass("disabledcircle"), $(".iq-test-wrap .circles .nav-item a.active").find(".circle").addClass("disabledcircle"), $(".iq-test-wrap .circles .nav-item a.active").parent().next().find(".circle").addClass("activecircle");
        let e = $(".iq-test-wrap .circles .nav-item a.active").parent().index();
        $(".tab-navs .total-count .curr").text(e + 1)
    } else alert("not detected")
})), $(".ui-drawer-head").on("click", (function() {
    $(".ui-drawer-head").toggleClass("inactive"), $(".ui-drawer-body").slideToggle()
}));